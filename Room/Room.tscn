[gd_scene load_steps=10 format=2]

[ext_resource path="res://Room/Table.obj" type="ArrayMesh" id=1]
[ext_resource path="res://Candle/Candle.tscn" type="PackedScene" id=2]
[ext_resource path="res://Room/Door.obj" type="ArrayMesh" id=3]
[ext_resource path="res://Room/Room.cs" type="Script" id=4]
[ext_resource path="res://Room/Wall.tscn" type="PackedScene" id=5]
[ext_resource path="res://Room/Box.obj" type="ArrayMesh" id=6]

[sub_resource type="BoxShape" id=1]
extents = Vector3( 2, 4, 0.2 )

[sub_resource type="ConvexPolygonShape" id=2]
points = PoolVector3Array( -5.87173, 7.12984, -5.87173, -5.87173, 7.12984, 5.87173, 5.87173, 7.12984, -5.87173, 5.87173, 7.12984, 5.87173, 5.87173, 7.12984, -5.87173, 5.87173, 7.12984, 5.87173, 5.87173, 7.37779, -5.87173, 5.87173, 7.37779, 5.87173, 5.70612, 7.5434, 5.70612, -5.70612, 7.5434, 5.70612, 5.70612, 7.5434, -5.70612, -5.70612, 7.5434, -5.70612, -5.87173, 7.12984, -5.87173, 5.87173, 7.12984, -5.87173, -5.87173, 7.37779, -5.87173, 5.87173, 7.37779, -5.87173, -5.87173, 7.12984, 5.87173, -5.87173, 7.12984, -5.87173, -5.87173, 7.37779, 5.87173, -5.87173, 7.37779, -5.87173, 5.87173, 7.37779, 5.87173, -5.87173, 7.37779, 5.87173, 5.70612, 7.5434, 5.70612, -5.70612, 7.5434, 5.70612, -5.87173, 7.37779, 5.87173, -5.87173, 7.37779, -5.87173, -5.70612, 7.5434, 5.70612, -5.70612, 7.5434, -5.70612, 5.87173, 7.37779, -5.87173, 5.87173, 7.37779, 5.87173, 5.70612, 7.5434, -5.70612, 5.70612, 7.5434, 5.70612, -5.87173, 7.37779, -5.87173, 5.87173, 7.37779, -5.87173, -5.70612, 7.5434, -5.70612, 5.70612, 7.5434, -5.70612, 5.87173, 7.12984, 5.87173, -5.87173, 7.12984, 5.87173, 5.87173, 7.37779, 5.87173, -5.87173, 7.37779, 5.87173, -4.50173, 0, 4.5002, -4.58071, 0, 4.30954, -4.63284, 7.38542, 4.6313, -4.76612, 7.38542, 4.30954, -4.50173, 0, 4.11888, -4.31107, 0, 4.03991, -4.63284, 7.38542, 3.98778, -4.31107, 7.38542, 3.8545, -4.31107, 0, 4.03991, -4.12042, 0, 4.11888, -4.31107, 7.38542, 3.8545, -3.98931, 7.38542, 3.98778, -4.04144, 0, 4.30954, -4.12042, 0, 4.5002, -3.85603, 7.38542, 4.30954, -3.98931, 7.38542, 4.6313, -4.31107, 0, 4.57917, -4.50173, 0, 4.5002, -4.31107, 7.38542, 4.76458, -4.63284, 7.38542, 4.6313, -4.58071, 0, 4.30954, -4.50173, 0, 4.11888, -4.76612, 7.38542, 4.30954, -4.63284, 7.38542, 3.98778, -4.12042, 0, 4.11888, -4.04144, 0, 4.30954, -3.98931, 7.38542, 3.98778, -3.85603, 7.38542, 4.30954, -4.12042, 0, 4.5002, -4.31107, 0, 4.57917, -3.98931, 7.38542, 4.6313, -4.31107, 7.38542, 4.76458, -4.58071, 0, 4.30954, -4.50173, 0, 4.5002, -4.31107, 0, 4.30954, -4.31107, 0, 4.03991, -4.50173, 0, 4.11888, -4.12042, 0, 4.11888, -4.12042, 0, 4.5002, -4.04144, 0, 4.30954, -4.31107, 0, 4.57917, 4.76612, 7.38542, 4.30954, 4.58071, 0, 4.30954, 4.63284, 7.38542, 4.6313, 4.50173, 0, 4.5002, 4.31107, 7.38542, 3.8545, 4.31107, 0, 4.03991, 4.63284, 7.38542, 3.98778, 4.50173, 0, 4.11888, 3.98931, 7.38542, 3.98778, 4.12042, 0, 4.11888, 4.31107, 7.38542, 3.8545, 4.31107, 0, 4.03991, 3.98931, 7.38542, 4.6313, 4.12042, 0, 4.5002, 3.85603, 7.38542, 4.30954, 4.04144, 0, 4.30954, 4.63284, 7.38542, 4.6313, 4.50173, 0, 4.5002, 4.31107, 7.38542, 4.76458, 4.31107, 0, 4.57917, 4.63284, 7.38542, 3.98778, 4.50173, 0, 4.11888, 4.76612, 7.38542, 4.30954, 4.58071, 0, 4.30954, 3.85603, 7.38542, 4.30954, 4.04144, 0, 4.30954, 3.98931, 7.38542, 3.98778, 4.12042, 0, 4.11888, 4.31107, 7.38542, 4.76458, 4.31107, 0, 4.57917, 3.98931, 7.38542, 4.6313, 4.12042, 0, 4.5002, 4.31107, 0, 4.30954, 4.50173, 0, 4.5002, 4.58071, 0, 4.30954, 4.50173, 0, 4.11888, 4.31107, 0, 4.03991, 4.12042, 0, 4.11888, 4.04144, 0, 4.30954, 4.12042, 0, 4.5002, 4.31107, 0, 4.57917, -4.76612, 7.38542, -4.30954, -4.58071, 0, -4.30954, -4.63284, 7.38542, -4.6313, -4.50173, 0, -4.5002, -4.31107, 7.38542, -3.8545, -4.31107, 0, -4.03991, -4.63284, 7.38542, -3.98778, -4.50173, 0, -4.11888, -3.98931, 7.38542, -3.98778, -4.12042, 0, -4.11888, -4.31107, 7.38542, -3.8545, -4.31107, 0, -4.03991, -3.98931, 7.38542, -4.6313, -4.12042, 0, -4.5002, -3.85603, 7.38542, -4.30954, -4.04144, 0, -4.30954, -4.63284, 7.38542, -4.6313, -4.50173, 0, -4.5002, -4.31107, 7.38542, -4.76458, -4.31107, 0, -4.57917, -4.63284, 7.38542, -3.98778, -4.50173, 0, -4.11888, -4.76612, 7.38542, -4.30954, -4.58071, 0, -4.30954, -3.85603, 7.38542, -4.30954, -4.04144, 0, -4.30954, -3.98931, 7.38542, -3.98778, -4.12042, 0, -4.11888, -4.31107, 7.38542, -4.76458, -4.31107, 0, -4.57917, -3.98931, 7.38542, -4.6313, -4.12042, 0, -4.5002, -4.31107, 0, -4.30954, -4.50173, 0, -4.5002, -4.58071, 0, -4.30954, -4.50173, 0, -4.11888, -4.31107, 0, -4.03991, -4.12042, 0, -4.11888, -4.04144, 0, -4.30954, -4.12042, 0, -4.5002, -4.31107, 0, -4.57917, 4.50173, 0, -4.5002, 4.58071, 0, -4.30954, 4.63284, 7.38542, -4.6313, 4.76612, 7.38542, -4.30954, 4.50173, 0, -4.11888, 4.31107, 0, -4.03991, 4.63284, 7.38542, -3.98778, 4.31107, 7.38542, -3.8545, 4.31107, 0, -4.03991, 4.12042, 0, -4.11888, 4.31107, 7.38542, -3.8545, 3.98931, 7.38542, -3.98778, 4.04144, 0, -4.30954, 4.12042, 0, -4.5002, 3.85603, 7.38542, -4.30954, 3.98931, 7.38542, -4.6313, 4.31107, 0, -4.57917, 4.50173, 0, -4.5002, 4.31107, 7.38542, -4.76458, 4.63284, 7.38542, -4.6313, 4.58071, 0, -4.30954, 4.50173, 0, -4.11888, 4.76612, 7.38542, -4.30954, 4.63284, 7.38542, -3.98778, 4.12042, 0, -4.11888, 4.04144, 0, -4.30954, 3.98931, 7.38542, -3.98778, 3.85603, 7.38542, -4.30954, 4.12042, 0, -4.5002, 4.31107, 0, -4.57917, 3.98931, 7.38542, -4.6313, 4.31107, 7.38542, -4.76458, 4.58071, 0, -4.30954, 4.50173, 0, -4.5002, 4.31107, 0, -4.30954, 4.31107, 0, -4.03991, 4.50173, 0, -4.11888, 4.12042, 0, -4.11888, 4.12042, 0, -4.5002, 4.04144, 0, -4.30954, 4.31107, 0, -4.57917 )

[sub_resource type="BoxShape" id=3]
extents = Vector3( 0.0203882, 0.25, 0.408 )

[node name="Room" type="CSGCombiner"]
script = ExtResource( 4 )

[node name="Door" type="RigidBody" parent="."]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 4.54886, 1.32546, 1.44409 )
axis_lock_linear_x = true
axis_lock_linear_y = true
axis_lock_angular_x = true
axis_lock_angular_z = true

[node name="Mesh" type="MeshInstance" parent="Door"]
transform = Transform( -0.356781, -0.00132927, 0.0070796, -0.00102655, 0.356529, 0.0152079, -0.00712978, 0.0151844, -0.35646, 0.41205, 0.216658, -0.0033865 )
mesh = ExtResource( 3 )
material/0 = null
material/1 = null
material/2 = null
material/3 = null
material/4 = null
material/5 = null
material/6 = null
material/7 = null
material/8 = null
material/9 = null
material/10 = null
material/11 = null
material/12 = null

[node name="Collision" type="CollisionShape" parent="Door"]
transform = Transform( 0.276136, 0, -3.52831e-09, 0, 0.356854, 0, -3.52831e-09, 0, 0.356854, -0.0383668, 0, 0 )
shape = SubResource( 1 )

[node name="Hinge" type="HingeJoint" parent="."]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 4.52317, 1.48617, 2.15784 )
nodes/node_a = NodePath("../Door")
nodes/node_b = NodePath("../Walls/Left2")
params/bias = 0.99
angular_limit/enable = true
angular_limit/bias = 0.99
angular_limit/softness = 16.0
angular_limit/relaxation = 16.0

[node name="Table" type="StaticBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00167847, -1.19209e-07, 2.61102 )

[node name="Mesh" type="MeshInstance" parent="Table"]
transform = Transform( 0.135, 0, 0, 0, 0.135, 0, 0, 0, 0.135, 0, 0, 0 )
mesh = ExtResource( 1 )
material/0 = null

[node name="Collision" type="CollisionShape" parent="Table"]
transform = Transform( 0.135, 0, 0, 0, 0.135, 0, 0, 0, 0.135, 0, 0, 0 )
shape = SubResource( 2 )

[node name="Candle" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.165391, 1.01769, 2.59123 )
IsLit = true

[node name="Box+Candles" type="Node" parent="."]

[node name="Box" type="StaticBody" parent="Box+Candles"]
transform = Transform( -0.544976, 4.76433e-08, -0.838452, -8.74228e-08, -1, 0, -0.838452, 7.32998e-08, 0.544976, -0.698, 0, 2.775 )

[node name="Mesh" type="MeshInstance" parent="Box+Candles/Box"]
transform = Transform( 1, 1.42109e-14, -2.98023e-08, 7.10543e-15, 1, -1.06581e-14, 2.98023e-08, 0, 1, 0.000909925, -0.18, -0.00144362 )
mesh = ExtResource( 6 )
material/0 = null
material/1 = null
material/2 = null
material/3 = null
material/4 = null
material/5 = null
material/6 = null
material/7 = null
material/8 = null
material/9 = null
material/10 = null
material/11 = null
material/12 = null
material/13 = null
material/14 = null
material/15 = null
material/16 = null
material/17 = null
material/18 = null
material/19 = null
material/20 = null
material/21 = null
material/22 = null
material/23 = null
material/24 = null
material/25 = null
material/26 = null
material/27 = null
material/28 = null
material/29 = null
material/30 = null
material/31 = null
material/32 = null
material/33 = null
material/34 = null
material/35 = null
material/36 = null
material/37 = null
material/38 = null
material/39 = null
material/40 = null
material/41 = null
material/42 = null
material/43 = null
material/44 = null

[node name="CollisionF" type="CollisionShape" parent="Box+Candles/Box"]
transform = Transform( 8.9407e-08, 3.55271e-14, 0.763706, 5.68434e-14, 1, 2.84217e-14, -1, 3.19744e-14, 8.9407e-08, 0.0122395, -0.25, -0.387566 )
shape = SubResource( 3 )

[node name="CollisionL" type="CollisionShape" parent="Box+Candles/Box"]
transform = Transform( 1, 1.42109e-14, -2.98023e-08, 7.10543e-15, 1, -4.61853e-14, 2.98023e-08, 0, 1, 0.304534, -0.25, 2.38419e-07 )
shape = SubResource( 3 )

[node name="CollisionB" type="CollisionShape" parent="Box+Candles/Box"]
transform = Transform( 8.9407e-08, 3.55271e-14, 0.763706, 6.75016e-14, 1, 4.9738e-14, -1, 3.19744e-14, 8.9407e-08, 0.0122395, -0.25, 0.376679 )
shape = SubResource( 3 )

[node name="CollisionR" type="CollisionShape" parent="Box+Candles/Box"]
transform = Transform( 1, 1.42109e-14, -2.98023e-08, 7.10543e-15, 1, -7.4607e-14, 2.98023e-08, 0, 1, -0.283778, -0.25, 2.38419e-07 )
shape = SubResource( 3 )

[node name="CollisionBottom" type="CollisionShape" parent="Box+Candles/Box"]
transform = Transform( -4.37114e-08, -1.2425, -2.98023e-08, 1, -5.43117e-08, -6.03961e-14, 0, 0, 1, 0.0123065, -0.0287508, 0.00139308 )
shape = SubResource( 3 )

[node name="Candle1" parent="Box+Candles" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.891814, 0.682229, 2.69824 )

[node name="Walls" type="Node" parent="."]

[node name="Front" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( 2.5, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 4.75 )

[node name="Left1" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1.43359, 0, -6.26643e-08, 4.74825, 1.99456, -2.04111 )

[node name="Left2" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -0.699746, 0, -3.05869e-08, 4.75, 2, 3.57547 )

[node name="Back" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( 2.5, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -4.75 )

[node name="Right" parent="Walls" instance=ExtResource( 5 )]
transform = Transform( -1.09278e-07, 0, 1, 0, 1, 0, -2.5, 0, -4.37114e-08, -4.73723, 2, 0.00105023 )
